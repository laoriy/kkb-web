<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>canvas绘图</title>
</head>
<style>
    #canvas {
        /* background-color: rgb(207, 204, 18); */
        background: #000;
    }
</style>

<body>
    <!-- <video id="vid" controls autoplay loop muted>
        <source src="./assets/move.mp4" type='video/mp4'>
    </video> -->
    <canvas id="canvas" width="800" height="700"></canvas>
    <!-- <script>
        /* font */
        // 没有提示代码解决
        /** @type {HTMLCanvasElement} */
        const canvas = document.getElementById('canvas')
        const ctx = canvas.getContext('2d')
        // 竖直线
        ctx.beginPath()
        ctx.setLineDash([8, 8])
        ctx.strokeStyle = '#999'
        ctx.moveTo(200, 50)
        ctx.lineTo(200, 500)
        ctx.stroke()

        ctx.font = 'bold 36px Arial'
        ctx.textAlign = 'start'
        ctx.fillText('start', 200, 50)
        ctx.textAlign = 'end'
        ctx.fillText('end', 200, 100)
        ctx.textAlign = 'left'
        ctx.fillText('left', 200, 150)
        ctx.textAlign = 'right'
        ctx.setLineDash([2, 2])
        ctx.strokeStyle = 'red'
        ctx.strokeText('right', 200, 200)
        ctx.textAlign = 'center'
        ctx.fillText('centercentercentercenter', 200, 250, 200)

        // 水平线
        ctx.beginPath()
        ctx.setLineDash([8, 8])
        ctx.strokeStyle = '#999'
        ctx.moveTo(50, 400)
        ctx.lineTo(500, 400)
        ctx.stroke()

        ctx.textAlign = 'left'
        ctx.textBaseline = 'top'
        ctx.fillText('top', 50, 400)
        ctx.textBaseline = 'middle'
        ctx.fillText('middle', 150, 400)
        ctx.textBaseline = 'bottom'
        ctx.fillText('bottom', 250, 400)

        //文字内容
        const text = 'canvas-------------';
        //矩形左上角位置
        const [x, y] = [50, 550];
        //矩形宽度
        const height = 60;

        ctx.setLineDash([])
        //字体
        ctx.font = '36px Arial';
        //水平居中
        ctx.textAlign = 'center';
        //垂直居中
        ctx.textBaseline = 'middle';
        //文字宽度
        const width = ctx.measureText(text).width + 36;
        //绘制矩形
        ctx.strokeRect(x, y, width, height);
        //绘制文字
        ctx.fillText(text, x + width / 2, y + height / 2);

    </script> -->

    <!-- <script>
        /* 布艺文字 */
        // 没有提示代码解决
        /** @type {HTMLCanvasElement} */
        const canvas = document.getElementById('canvas')
        const ctx = canvas.getContext('2d')
        // 投影
        ctx.shadowColor = 'rgba(0,0,0,0.6)'
        ctx.shadowBlur = 4
        ctx.shadowOffsetY = 2
        // 文本
        ctx.font = 'bold 200px Arial'
        ctx.fillStyle = '#a76921'
        ctx.fillText('canvas', 50, 150)
        // 实体描边
        ctx.strokeStyle = '#f0d5ac'
        ctx.lineWidth = 9
        ctx.strokeText('canvas', 50, 150)

        // 虚线描边

        ctx.strokeStyle = '#333'
        ctx.setLineDash([5, 3])
        ctx.lineWidth = 1
        ctx.strokeText('canvas', 50, 150)

    </script> -->

    <!-- <script>
        /* 夜巴黎 */
        // 没有提示代码解决
        /** @type {HTMLCanvasElement} */
        const canvas = document.getElementById('canvas')
        const ctx = canvas.getContext('2d')
        //颜色数组
        const colors = ['red', 'yellow'];
        const dashOffset = [0, 6];
        const states = [0, 1];
        function draw() {
            ctx.save();
            //偏移坐标系
            ctx.beginPath();
            ctx.strokeStyle = colors[states[0]];
            ctx.lineWidth = 3;
            ctx.setLineDash([6]);
            ctx.lineDashOffset = dashOffset[states[0]];
            ctx.font = 'bold 200px arial';
            ctx.shadowColor = 'orange';
            for (let i = 8; i > 0; i -= 1) {
                ctx.shadowBlur = i;
                ctx.strokeText('夜巴黎', 80, 250);
            }
            ctx.restore();
        }

        setInterval(function () {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            draw();
            states.reverse();
        }, 500);

    </script> -->
    <script>
        // 没有提示代码解决
        /** @type {HTMLCanvasElement} */
        const canvas = document.getElementById('canvas')
        const ctx = canvas.getContext('2d')
        canvas.width = window.innerWidth
        canvas.height = window.innerHeight
        /* 图片  */
        // const img = new Image()
        // img.src = './assets/dog.jpg'
        // img.onload = () => {
        //     // 相机视图缩小，实际看到的图是放大的,后面四个参数是对裁剪后的图进行位置大小摆放
        //     ctx.drawImage(img, img.width / 2, 0, img.width / 2, img.height, 100, 50, img.width, img.height)
        // }


        /* 播放视频 */

        // let interval = null;
        // vid.addEventListener('play', function () {
        //     interval = setInterval(function () {
        //         ctx.drawImage(vid, 0, 0);
        //     }, 40);
        // })
        // vid.addEventListener('pause', function () {
        //     clearInterval(interval);
        // })


        /* 雪碧图 */
        // 图片数量
        const len = 8
        // 宽高256
        const size = 256

        let fm = 0 // 当前帧

        const img = new Image()
        img.src = './assets/bomb.jpg'
        function draw() {
            ctx.drawImage(img, fm * size, 0, size, size, 0, 0, size, size)
            fm++;
            if (fm === len) {
                fm = 0
            }
        }
        img.onload = draw

        setInterval(() => {
            draw()
        }, 100)
    </script>
</body>

</html>